<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="技术爱好者" />



<meta name="description" content="title:blazor项目目录：https:&#x2F;&#x2F;learn.microsoft.com&#x2F;zh-cn&#x2F;aspnet&#x2F;core&#x2F;blazor&#x2F;project-structure?view&#x3D;aspnetcore-7.0 shared：存放布局组件的地方，不需带路由 page：存放路由组件，需带路由（&#x2F;page） _Import.Razor文件：引用razor使用的标签对应的类，例如inpu">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="title:blazor项目目录：https:&#x2F;&#x2F;learn.microsoft.com&#x2F;zh-cn&#x2F;aspnet&#x2F;core&#x2F;blazor&#x2F;project-structure?view&#x3D;aspnetcore-7.0 shared：存放布局组件的地方，不需带路由 page：存放路由组件，需带路由（&#x2F;page） _Import.Razor文件：引用razor使用的标签对应的类，例如inpu">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240204191326217.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230203091316922.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706340444142-1706839641995.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706342020644-1706839641995.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706342913964-1706839641995.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706343837372-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706343361932-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706343800101-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230318212033418.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202192948541.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202193032574.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202193121555.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202193147646.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202194336877.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202194551075.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195602378.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195636380.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195650388.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195659419.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195713498.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706332611520-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706332651958-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706332687653-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706333089700-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706333152672-1706839641993.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706333209122-1706839641993.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20221002212652264.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706334113087-1706839641994.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706334722000-1706839641994.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706275196673-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230319194531505.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230319194514083.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706360004467-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706359799108-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706255330850-1706839641989.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256687651-1706839641991.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256812078-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256910910-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256949845-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706257201760-1706839641992.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706334835974-1706839641994.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706335204608-1706839641994.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706335353902-1706839641994.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706340326010-1706839641995.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706353091542-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706353062954-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706362499268-1706839641996.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202105855372.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110107469.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110414271.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110449518.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110749068.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202111817061.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202115329453.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202134740906.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202160708498.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202160546217.png">
<meta property="og:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202160830064.png">
<meta property="article:published_time" content="2022-10-02T12:22:11.346Z">
<meta property="article:modified_time" content="2024-02-04T13:20:25.389Z">
<meta property="article:author" content="技术爱好者">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240204191326217.png">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">




<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Hexo</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 6.2.0"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/aaa.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/"></a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/%E9%9A%8F%E7%AC%94">随笔</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/303515096@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">技术爱好者</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页"></a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/aaa.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页"></a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/%E9%9A%8F%E7%AC%94">随笔</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/303515096@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap"><article id="post-blazor学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/" class="article-date">
      <time datetime="2022-10-02T12:22:11.346Z" itemprop="datePublished">2022-10-02</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <hr>
<h2 id="title-blazor"><a href="#title-blazor" class="headerlink" title="title:blazor"></a>title:blazor</h2><h1 id="项目目录："><a href="#项目目录：" class="headerlink" title="项目目录："></a><strong>项目目录：</strong></h1><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/aspnet/core/blazor/project-structure?view=aspnetcore-7.0">https://learn.microsoft.com/zh-cn/aspnet/core/blazor/project-structure?view=aspnetcore-7.0</a></p>
<p>shared：存放布局组件的地方，不需带路由</p>
<p>page：存放路由组件，需带路由（&#x2F;page）</p>
<p>_Import.Razor文件：引用razor使用的标签对应的类，例如input，editform等</p>
<span id="more"></span>

<p><strong>根据目录分析网页加载原理：</strong></p>
<p>首先网站加载后，首先加载的是wwwroot下的index.html文件，而不是index.razor组件，那么index.razor组件是如何嵌入到index.html里面去的呢？在index.html里面有这样一句话：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;定义了一个app的div</span><br></pre></td></tr></table></figure>

<p>然后在program.cs中，有builder.RootComponents.Add<App>(“#app”);这样一句话，说明将App这个组件嵌入到id为app的div中，而App.razor中有《Router AppAssembly&#x3D;”@typeof(App).Assembly”&gt;将加载page文件夹下的所有路由，并建立对应的路由表，当url匹配到对应的路由之后，就会将对应的razor文件嵌入到index.html的id为app的div中，运行之后通过查看源码可以查看到index.razor嵌入到index.html中</App></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">builder.RootComponents.Add&lt;HeadOutlet&gt;(&quot;head::after&quot;);program.cs中的该行表示将HeadOutlet组件添加到index.html中的head标签的最后一行，该组件一般包含pagetitle组件等</span><br></pre></td></tr></table></figure>

<p><strong>通过反编译：</strong>每个razor文件最后都会编译成cs类：例如index.razor&#x3D;&#x3D;index.cs文件&#x3D;&#x3D;index类，里面的@code{}等等，都是index类里面的内容。包括html标签，都会使用对象.方法的方式提交标签内容。例如_builder.addMarkupContent(1,”button”)将所有标签组合成一起后传送到前端。类似于javaservlet</p>
<h2 id="blazor中执行顺序："><a href="#blazor中执行顺序：" class="headerlink" title="blazor中执行顺序："></a>blazor中执行顺序：</h2><p>program里面会调用app组件，app组件里面首先进行整体布局，即head，body和footer布局，然后再body部分会调用Routes组件加载所有路由，并选择默认的body部分的模板为mainlayout，将mainlayout内容填充到body部分，而在mainlayout里面还有个@body，这是被Page文件中的各种组件来填充的。</p>
<p>布局组件layoutomponentbase的作用，对于继承自该类的组件，参考mainlayout组件，对于导航栏，和内容部分等不变的部分可以直接写死，而对于随时变化的部分使用@body可以随时替换，这就是该组件的作用，可以提供一个布局模板，该组件最重要的作用就是提供了一个@body语法。</p>
<h1 id="razor语法"><a href="#razor语法" class="headerlink" title="razor语法"></a>razor语法</h1><p>1.razor文件命名必须以大写字母开头</p>
<p>@+字段：调用c#中的属性</p>
<p>@+事件&#x3D;“方法名”；绑定到事件</p>
<p>@code{</p>
<p>​	纯c#代码</p>
<p>}</p>
<p>@lambda表达式：使用@()里面添加表达式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">例如&lt;input @onclick=&quot;@(</span><br><span class="line"></span><br><span class="line">​					()=&gt;&#123;cw.writeLine(&quot;lambda&quot;);&#125;</span><br><span class="line"></span><br><span class="line">​						)&quot;&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">参考官方文档</span><br><span class="line">1.下面这两种呈现的结果是一样的，里面既可以写html代码，也可以写c#代码</span><br><span class="line">@code &#123;</span><br><span class="line">    //这种方式用在blazor中的</span><br><span class="line">&#125;</span><br><span class="line">@&#123;</span><br><span class="line">//这种方式是在cshmlt中使用的，mvc中的razor，不要使用在blazor中</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@&#123;</span><br><span class="line">    Student student = new Student &#123; Name = &quot;jerry&quot; ,age=20 &#125;;</span><br><span class="line">    public class Student</span><br><span class="line">    &#123;</span><br><span class="line">        public string Name &#123; get; set; &#125; = &quot;jerry&quot;;</span><br><span class="line">        public int age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;上面的代码等价于如下代码，及@&#123;&#125;中的代码放在一个类里面，该类名实际就是文件名</span><br><span class="line">public Test&#123;</span><br><span class="line">Student student = new Student &#123; Name = &quot;jerry&quot; ,age=20 &#125;;</span><br><span class="line">    public class Student</span><br><span class="line">    &#123;</span><br><span class="line">        public string Name &#123; get; set; &#125; = &quot;jerry&quot;;</span><br><span class="line">        public int age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">如果想要输出@，就使用@@，若是电子邮件格式，则里面的@不会进行转义,其中name变量为jerry</span><br><span class="line">qq@Name.com会原样输出</span><br><span class="line">qq@@Name.com会输出为qq@Name.com</span><br><span class="line">qq@(Name).com会输出为qqjerry.com</span><br><span class="line">2.svg图像格式</span><br><span class="line">3.隐式razor表达式：就是使用@对象.变量名（面向对象）的方式代替@变量名的方式，但不能加上泛型，因为泛型中的&lt;&gt;会误判为html中的&lt;&gt;，若使用泛型，使用显式表达式</span><br><span class="line">4.显式razor表达式(建议全部使用显式的)：使用@();括号里面的内容是c#代码，括号外都是html代码</span><br><span class="line"> @(DateTime.Now - TimeSpan.FromDays(7))，显式表达式可以使用泛型</span><br><span class="line">5.表达式编码:htmlhelper不在学习范围内。</span><br><span class="line">6.在html里面写for循环</span><br><span class="line">@for (var i = 0; i &lt; people.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">    var person = people[i];</span><br><span class="line">    &lt;text&gt;Name: @person.Name&lt;/text&gt;</span><br><span class="line">&#125;</span><br><span class="line">7.显式行转换（看见认识即可，不会使用）： @:Name: @person.Name 使用@:进行换行，等价于</span><br><span class="line">&lt;p&gt;Name: @person.Name&lt;/p&gt;</span><br><span class="line">8.控制语句if,else，循环结构：while，for，foreach</span><br><span class="line">9.@using:用来释放非托管资源</span><br><span class="line">10@try，catch</span><br><span class="line">11注释：ctrl+k+c</span><br><span class="line">12添加特性：Test.razor最终编译成一个Test类，及</span><br><span class="line">public Test&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;如何在它上面添加授权特性，就是使用@attribute [Authorize]等价于</span><br><span class="line">[Authorize]</span><br><span class="line">public Test&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line">13.@using 引入命名空间</span><br><span class="line">14.@implements Student让Test.razor最终生成的Test类实现某个Student接口</span><br><span class="line">15.,@inherits 指令用于指定组件的基类。 与使用分部类不同，它仅从 C# 逻辑拆分标记，使用基类可以继承 C# 代码，以便在共用基类的属性和方法的一组组件之间使用。 使用基类可减少应用中的代码冗余，在将基代码从类库提供给多个应用时非常有用。@inherits用于继承某个其他的组件</span><br><span class="line">16.@inject依赖注入，不要使用传统的构造注入</span><br><span class="line">17.@layout 布局</span><br><span class="line">18.@namespace 设置命名空间</span><br><span class="line">19.@page 设置路由</span><br><span class="line">20.@attibute 为razor文件指定特性</span><br><span class="line">21.@attributes html中的标签属性放在c#代码中，这样比较规整</span><br><span class="line">22.@key:再数据不断增加的情况下，不会失去焦点（闪烁的光标）</span><br></pre></td></tr></table></figure>

<p>针对字符串解析为html的方法</p>
<p>1.markupstring类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@page &quot;/markup-strings&quot;</span><br><span class="line">@((MarkupString)myMarkup)//如果不加markupstring类，则结果为变量的字符串，如果加上则会解析为html语言</span><br><span class="line">@code &#123;</span><br><span class="line">    private string myMarkup =</span><br><span class="line">        &quot;&lt;p class=\&quot;text-danger\&quot;&gt;This is a dangerous &lt;em&gt;markup string&lt;/em&gt;.&lt;/p&gt;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.renderfragment</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@page &quot;/razor-template&quot;</span><br><span class="line"></span><br><span class="line">@timeTemplate</span><br><span class="line"></span><br><span class="line">@petTemplate(new Pet &#123; Name = &quot;Nutty Rex&quot; &#125;)</span><br><span class="line">//方法二，使用renderfragment代替，即在@code里面定义renderfragment模板，直接调用即可转化为html语言，而方法一是在@code外面进行的处理,参考renderfragmenet的具体使用方法。</span><br><span class="line">@code &#123;</span><br><span class="line">    private RenderFragment timeTemplate = @&lt;p&gt;The time is @DateTime.Now.&lt;/p&gt;;</span><br><span class="line">    private RenderFragment&lt;Pet&gt; petTemplate = (pet) =&gt; @&lt;p&gt;Pet: @pet.Name&lt;/p&gt;;</span><br><span class="line"></span><br><span class="line">    private class Pet</span><br><span class="line">    &#123;</span><br><span class="line">        public string? Name &#123; get; set; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Main等布局标签"><a href="#Main等布局标签" class="headerlink" title="Main等布局标签"></a>Main等布局标签</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43422005/article/details/118701690">HTML5系列 03 结构系标签_html mian标签-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://dandelioncloud.cn/article/details/516015500240727/">HTML &lt; main&gt; 标签-蒲公英云 (dandelioncloud.cn)</a></p>
<p>header，nav，main，footer，article，section，aside，div。main表示可以变化的部分。</p>
<h1 id="前后端分离"><a href="#前后端分离" class="headerlink" title="前后端分离"></a><strong>前后端分离</strong></h1><p>何为前后端分离：？</p>
<p>以mvc和webapi为例：</p>
<p>在写html时，虽然mvc和webapi写的都是同样的代码，显示的结果也相同，但是底层的运行逻辑完全不同，mvc中的html最终的显示效果是通过c#语言将html一行一行发送到浏览器进行展示的，而webapi中的html显示效果与后端完全无关，就是浏览器自动展示的。</p>
<p>形式上前后端分离：</p>
<p>​	方式1：将c#代码与razor代码分开，例如在index.razor所在文件夹中，创建一个index.razor.cs的类，会出现Index类报错，在public后添加partial即可</p>
<p>传统netcore转blazor：1.builder.AddServerSideBlazor	2.app.MapBlazorHup()	3.app.MapFallBackTopage(“&#x2F;.Host”)(BlazorServer)</p>
<p>​	方式2：创建一个组件+Base.cs的类，让其继承ComponentBase类也可前后分离，然后让前端的razor组件使用@inherit 组件Base即可。但是写法必须参照razor里面的@code的写法，例如注入使用【inject】的形式</p>
<h1 id="Server和WASM区别及渲染模式"><a href="#Server和WASM区别及渲染模式" class="headerlink" title="Server和WASM区别及渲染模式"></a>Server和WASM区别及渲染模式</h1><p><code>Blazor Server</code> 托管模型具有以下优点：（网页文件都是<strong>cshtml</strong>类型，因为是服务端渲染）</p>
<ul>
<li>下载项大小明显小于 <code>Blazor WebAssembly</code> 应用，且应用加载速度快得多。</li>
<li>支持客户端。 例如，<code>Blazor Server</code> 应用适用于不支持 <code>WebAssembly</code> 的浏览器以及资源受限的设备。</li>
<li>应用的 .NET&#x2F;C# 代码库（其中包括应用的组件代码）不适用于客户端。</li>
</ul>
<p><code>Blazor Server</code> 托管模型具有以下局限性：</p>
<ul>
<li>通常延迟较高。 每次用户交互都涉及到网络跃点。</li>
<li>不支持脱机工作。 如果客户端连接失败，应用会停止工作。</li>
</ul>
<p><code>Blazor WebAssembly</code> 托管模型具有以下优点：（网页文件都是razor类型，因为是客户端渲染）</p>
<ul>
<li>没有 .NET 服务器端依赖，应用下载到客户端后即可正常运行。</li>
<li>工作可从服务器转移到客户端。</li>
</ul>
<p><code>Blazor WebAssembly</code> 托管模型具有以下局限性：</p>
<ul>
<li><p>应用仅可使用浏览器功能。</p>
</li>
<li><p>需要可用的客户端硬件和软件（例如 <code>WebAssembly</code> 支持）。</p>
</li>
<li><p>下载项大小较大，应用加载耗时较长。</p>
</li>
</ul>
<p>WASM和Server在项目结构上的区别如下，WASM需要调用webapi，通过WebApi调用Service,而Server直接调用Service</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240204191326217.png" alt="image-20240204191326217"></p>
<p><strong>net8渲染模式：</strong></p>
<p>在vs中，选择blazor webapp模板中的server模式和直接选择blazor server模板本质是相同的，区别是前者可以选择在每个组件里面手动添加@rendermode针对每个页面可以选择交互模式为server模式还是静态渲染模式，而后者默认全局交互模式为server模式。如果未添加该代码，则默认为静态渲染。</p>
<p><strong>静态渲染</strong>：就是只能显示html代码，不能执行js或者事件等操作。即控件无法使用，但是可以展示，如果未指定渲染模式则默认为静态渲染。</p>
<p>​		流式渲染（streamrender）:解决页面中因数据过多而导致页面加载时间过长的问题，streamrender就是将html部分先展示出来，而数据部分同时慢慢加载，加载完成后再展示到页面上即可，可以提高用户体验感</p>
<p><strong>wasm模式</strong>:wasm是blazor的默认模式，使用wasm技术将net代码编译为web可执行的二进制文件，在客户端渲染</p>
<p>​	1.缺点是客户端需要下载包导致初始加载较慢，</p>
<p>​	2.好处是除了初始时加载较慢其余情况相比server运行较快，因为wasm下载完成后相当于在本地执行代码不需要进行网络连接，而且可以跨平台</p>
<p><strong>server模式</strong>：使用net代码在服务器端生成html和js代码，在服务端渲染，渲染完成后发送给客户端，需要访问数据库时使用。对于需要访问外部api的组件需要指定为server模式。</p>
<p>​     1.优点：相比wasm具有更好的安全性，因为不需要下载wasm包，所以初始加载比wasm快。</p>
<p><strong>auto模式</strong>：先使用server模式进行初始加载保证初始化速度，当wasm下载完成后就自动使用wasm模式，若下载失败默认使用server模式，两种方式的组合使用主要是为了提升用户的使用体验。vs中选择auto时出现了主项目（server模式）和.client项目（wasm模式），会自动将client项目作为组件库使用，除非某些确定的需要服务端渲染的页面可以放在server端的page里面，其他的均是将页面放在client端，如果使用了streamrender则应放在server端的page里面</p>
<p><strong>全局交互式（global）转为页面或者组件交互式(per page&#x2F;component)。</strong>两者区别：选择global模式发现在App.razor中将rendermode写在了HeadOutlet组件和router组件的属性上表示所有组件均使用该交互模式。</p>
<p><strong>指定渲染模式的方法</strong>（auto为例）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">步骤</span><br><span class="line">1.在主项目的program文件里面添加组件</span><br><span class="line">builder.Services.AddRazorComponents()</span><br><span class="line">    .AddInteractiveServerComponents()</span><br><span class="line">    .AddInteractiveWebAssemblyComponents();</span><br><span class="line">映射组件</span><br><span class="line">2.app.MapRazorComponents&lt;App&gt;()</span><br><span class="line">    .AddInteractiveServerRenderMode()</span><br><span class="line">    .AddInteractiveWebAssemblyRenderMode()</span><br><span class="line">    .AddAdditionalAssemblies(typeof(MasaBlazorWebAppAuto.Client._Imports).Assembly);</span><br><span class="line">3.在组件中的html页面上使用@rendermode InteractiveAuto去指定渲染模式，如果不加，会自动使用静态渲染。或者，在调用该组件时加上一个@rendermode=&quot;InteractiveAuto&quot;属性也可以指定渲染模式</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chenyishi/p/17838398.html">.NET8 Blazor的Auto渲染模式的初体验 - chester·chen - 博客园 (cnblogs.com)</a></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.b</span>uilder.Services.AddRazorComponents()</span><br><span class="line">    .AddInteractiveServerComponents();再program文件里面启动server交互方式</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.</span>app.MapRazorComponents&lt;App&gt;()</span><br><span class="line">    .AddInteractiveServerRenderMode();</span><br></pre></td></tr></table></figure>

<p>3.将以下 <code>Counter</code> 组件添加到采用交互式服务器端呈现（交互式 SSR）的应用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@page &quot;/counter&quot;</span><br><span class="line">@rendermode InteractiveServer</span><br></pre></td></tr></table></figure>



<h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230203091316922.png" alt="image-20230203091316922">生命周期</p>
<p>根据下面过程发现，@page是最先执行的，html渲染部分是最后执行的，中间是执行的@code中的三个方法。</p>
<ol>
<li>如果组件是被请求（即执行到@page这行，即使用url或者post方式进行请求）（相当于是第一次渲染）：<ul>
<li>创建组件的实例。</li>
<li>执行属性注入。 运行 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/aspnet/core/blazor/components/lifecycle?view=aspnetcore-8.0#when-parameters-are-set-setparametersasync"><code>SetParametersAsync</code></a>。（将所有外面传递过来的参数进行注入，例如url）所以当调用一个组件的时候，首先调用的是该组件中的@code中的该方法进行属性注入。</li>
<li>调用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/aspnet/core/blazor/components/lifecycle?view=aspnetcore-8.0#component-initialization-oninitializedasync"><code>OnInitialized&#123;Async&#125;</code></a>。 如果返回不完整的 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.threading.tasks.task">Task</a>，则将等待 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.threading.tasks.task">Task</a>，然后重新呈现组件。</li>
</ul>
</li>
<li>调用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/aspnet/core/blazor/components/lifecycle?view=aspnetcore-8.0#after-parameters-are-set-onparameterssetasync"><code>OnParametersSet&#123;Async&#125;</code></a>。 如果返回不完整的 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.threading.tasks.task">Task</a>，则将等待 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.threading.tasks.task">Task</a>，然后重新呈现组件。</li>
<li>渲染（render）</li>
<li>OnAfterRender{Async}方法</li>
</ol>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706340444142-1706839641995.png" alt="1706340444142"></p>
<p>方法一:SetParametersAsync</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">：如果url中传递过来无数个参数，那么SetParametersAsync方法会创建一个表，该表包含所有的属性，在与属性进行的匹配的时候需要遍历表，这个过程是非常消耗时间的，所以可以手动调用该方法一一进行匹配，这样使程序执行更快。</span><br><span class="line"></span><br><span class="line">@page &quot;/set-params-async/&#123;Param?&#125;&quot;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;@message&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">@code &#123;</span><br><span class="line">    private string message = &quot;Not set&quot;;</span><br><span class="line"></span><br><span class="line">    [Parameter]</span><br><span class="line">    public string? Param &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">//parameters是提交后传递过来的。ParameterView是一个表</span><br><span class="line">    public override async Task SetParametersAsync(ParameterView parameters)</span><br><span class="line">    &#123;</span><br><span class="line">        if (parameters.TryGetValue&lt;string&gt;(nameof(Param), out var value))</span><br><span class="line">        &#123;</span><br><span class="line">            if (value is null)</span><br><span class="line">            &#123;</span><br><span class="line">                message = &quot;The value of &#x27;Param&#x27; is null.&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                message = $&quot;The value of &#x27;Param&#x27; is &#123;value&#125;.&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        await base.SetParametersAsync(parameters);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 方法2：OnInitialized{Async}</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706342020644-1706839641995.png" alt="1706342020644"></p>
<p>方法3：<code>OnParametersSet&#123;Async&#125;</code></p>
<p>当路由中传递的参数值发生了改变（不是路由结构发生了改变）会触发该方法，例如 page&#x2F;num&#x3D;1 变为page&#x2F;num&#x3D;2或者父子组件之间传递的值发生了改变。</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706342913964-1706839641995.png" alt="1706342913964"></p>
<p>方法4：OnAfterRender{Async}</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706343837372-1706839641996.png" alt="1706343837372"></p>
<p>表示每次渲染之后都会执行一次该方法。根据前面的流程图，会出现同步和异步执行而渲染两次的情况，或者每次操作dom事件时都会自动重新渲染一次，导致最终渲染多次的情况。</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706343361932-1706839641996.png" alt="1706343361932"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706343800101-1706839641996.png" alt="1706343800101"></p>
<p>注意：渲染多次的情况，1.同步和异步都执行，2.操作dom事件后，根据第一章流程图，后面的多次渲染除了OnInitialized方法，其他三个方法都会重新加载，而OnInitialized只执行一次。注意（微软将第一章流程图部分的SetParametersAsync方法打印错误，该方法应该在阴影外面，即多次渲染仍然会加载该方法。）</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230318212033418.png" alt="image-20230318212033418"></p>
<h2 id="渲染方式"><a href="#渲染方式" class="headerlink" title="渲染方式"></a>渲染方式</h2><p>.NET8发布后，Blazor支持四种渲染方式（官网）</p>
<ol>
<li>静态渲染，这种页面只可显示，不提供交互，可用于网页内容展示(webapp使用)</li>
<li>使用Blazor Server托管的通过Server交互方式</li>
<li>使用WebAssembly托管的在浏览器端交互方式</li>
<li>使用Auto自动交互方式，最初使用 Blazor Server，并在随后访问时使用 WebAssembly 自动进行交互式客户端呈现。自动呈现通常会提供最快的应用启动体验。</li>
</ol>
<h1 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h1><h2 id="组件参数"><a href="#组件参数" class="headerlink" title="组件参数"></a>组件参数</h2><p>（相当于标签属性）：引用子组件的时候，如果在父组件里面传递参数给子组件，则须在子组件的对应的属性里面写上【parameter】参数，相当于将子组件Title属性暴露出去，类似于形参</p>
<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Component子组件</span><br><span class="line">page &quot;/Counter&quot;</span><br><span class="line">&lt;h1&gt;@Title&lt;/h1&gt;Component组件显示Title，调用c#中的title属性</span><br><span class="line">@Code</span><br><span class="line">&#123;</span><br><span class="line">[Parameter]</span><br><span class="line">private string Title&#123;get;set;&#125;</span><br><span class="line">[Paramter]</span><br><span class="line">private EventCallBack&lt;MouseEventArgs&gt; OnClick&#123;get;set;&#125;为该组件定义OnClick事件</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">父组件引用子组件</span><br><span class="line">&lt;Component Title=&quot;c#&quot; Onclick=&quot;@show&quot;/&gt;这样就会将Title的值传递给组件中的Title属性，然后在组件中显示出Title的值</span><br><span class="line">@code&#123;</span><br><span class="line">	public void show()</span><br><span class="line">	&#123;</span><br><span class="line">		...</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="函数作为参数传递"><a href="#函数作为参数传递" class="headerlink" title="函数作为参数传递"></a>函数作为参数传递</h2><p>使用EventCallback</p>
<p>将函数作为参数在组件中进行传递</p>
<h2 id="级联参数"><a href="#级联参数" class="headerlink" title="级联参数"></a><strong>级联参数</strong></h2><p>如果要将值传递给孙子组件，可以使用组件参数，但是对于多级组件之间传值则比较麻烦， Blazor 包含了级联参数。 级联参数提供了一种方便的方法，可将数据沿组件层次结构从祖先组件向下流向任意层级的后代组件。 不同于组件参数，级联值和参数不需要对使用数据的每个后代组件分配特性。 子组件[CascadingParameter]属性修饰，父组件通过CascadingValue传递参数。一般情况下，我们的CascadingValue中可能会需要传递多个值的变化，解决了2个问题</p>
<p>1.爷爷组件和孙子组件之间直接传递</p>
<p>2.可以进行多值传递。</p>
<p>CascadingValue（父组件），CascadingParameter（子组件）</p>
<h3 id="1-经过父组件"><a href="#1-经过父组件" class="headerlink" title="1.经过父组件"></a>1.经过父组件</h3><p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202192948541.png" alt="image-20240202192948541"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202193032574.png" alt="image-20240202193032574"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202193121555.png" alt="image-20240202193121555"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202193147646.png" alt="image-20240202193147646"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202194336877.png" alt="image-20240202194336877"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202194551075.png" alt="image-20240202194551075"></p>
<h3 id="2-不经过父组件"><a href="#2-不经过父组件" class="headerlink" title="2.不经过父组件"></a>2.不经过父组件</h3><p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195602378.png" alt="image-20240202195602378"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195636380.png" alt="image-20240202195636380"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195650388.png" alt="image-20240202195650388"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195659419.png" alt="image-20240202195659419"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202195713498.png" alt="image-20240202195713498"></p>
<h3 id="3-单值传递-不经过父组件"><a href="#3-单值传递-不经过父组件" class="headerlink" title="3.单值传递,不经过父组件"></a>3.单值传递,不经过父组件</h3><p>爷爷组件（test）</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706332611520-1706839641992.png" alt="1706332611520"></p>
<p>父亲组件child</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706332651958-1706839641992.png" alt="1706332651958"></p>
<p>孙子组件childofchild</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706332687653-1706839641992.png" alt="1706332687653"></p>
<h3 id="4-多值传递：无限套娃"><a href="#4-多值传递：无限套娃" class="headerlink" title="4.多值传递：无限套娃"></a>4.多值传递：无限套娃</h3><p>爷爷组件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706333089700-1706839641992.png" alt="1706333089700"></p>
<p>父亲组件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706333152672-1706839641993.png" alt="1706333152672"></p>
<p>孙子组件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706333209122-1706839641993.png" alt="1706333209122"></p>
<h2 id="AppState传递参数"><a href="#AppState传递参数" class="headerlink" title="AppState传递参数"></a>AppState传递参数</h2><p>用于解决两个不相关的组件之间相互传递参数。</p>
<p>使用注入注册的方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">public class PizzaSalesState</span><br><span class="line">&#123;</span><br><span class="line">    public int PizzasSoldToday &#123; get; set; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">// Add services to the container</span><br><span class="line">builder.Services.AddRazorPages();</span><br><span class="line">builder.Services.AddServerSideBlazor();</span><br><span class="line"></span><br><span class="line">// Add the AppState class</span><br><span class="line">builder.Services.AddScoped&lt;PizzaSalesState&gt;();</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">@page &quot;/&quot;</span><br><span class="line">@inject PizzaSalesState SalesState</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Welcome to Blazing Pizzas&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;Today, we&#x27;ve sold this many pizzas: @SalesState.PizzasSoldToday&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;button @onclick=&quot;IncrementSales&quot;&gt;Buy a Pizza&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">@code &#123;</span><br><span class="line">    private void IncrementSales()</span><br><span class="line">    &#123;</span><br><span class="line">        SalesState.PizzasSoldToday++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="组件引用"><a href="#组件引用" class="headerlink" title="组件引用"></a><strong>组件引用</strong></h2><p>例如《child @ref&#x3D;”@test”》 等价于在child test &#x3D; new child将组件看作对象，使用test.对象的形式访问子组件中的属性和方法</p>
<h1 id="布局："><a href="#布局：" class="headerlink" title="布局："></a><strong>布局：</strong></h1><p>布局文件是一种特殊的组件，在布局文件中，在nav和footer中有个@body代码，该代码表示凡是使用@layout 应用该布局文件是会将代码填充到@body内容部分，若没使用@layout指定，则默认为@layout MainLayout.razor。布局文件两个特殊的要求。</p>
<ul>
<li>必须继承 <code>LayoutComponentBase</code> 类。@inherits LayoutComponentBase</li>
<li>必须在要呈现发起引用的组件内容的位置包含 <code>@Body</code> 指令。</li>
<li>若要使用组件则@layout BlazingPizzasMainLayout</li>
</ul>
<p>如果要将默认布局应用于 Web 应用的所有文件夹中的所有组件，可以在 App.razor 组件中执行此操作，可以像在第 2 单元中学到的那样，在该组件中配置 Router 组件。 在 <code>&lt;RouteView&gt;</code> 标记中，使用 <code>DefaultLayout</code> 属性。</p>
<h2 id="pagetitle和headtitle"><a href="#pagetitle和headtitle" class="headerlink" title="pagetitle和headtitle"></a>pagetitle和headtitle</h2><p>因为默认是在index.html中，如果修改比较麻烦，对于单页面想要修改，则使用pagetitle组件修改title，使用headContent组件修改head部分，不必再再index.html中修改。pagetitle与title的区别是使用它可以自动替换index.html中title标签里面的内容。</p>
<h1 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a><strong>数据绑定</strong></h1><h2 id="单项绑定"><a href="#单项绑定" class="headerlink" title="单项绑定"></a>单项绑定</h2><p>页面中通过事件绑定到方法如下（单向绑定）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;button class=&quot;btn btn-primary&quot; @onclick=&quot;IncrementCount&quot;&gt;Click me&lt;/button&gt;通过@方法名的方式绑定到方法。</span><br><span class="line"></span><br><span class="line">@code &#123;</span><br><span class="line">    private void IncrementCount()</span><br><span class="line">    &#123;</span><br><span class="line">        currentCount++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="双向绑定：使用-bind"><a href="#双向绑定：使用-bind" class="headerlink" title="双向绑定：使用@bind"></a>双向绑定：使用@bind</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">绑定属性：@bind=&quot;inputvalue&quot;等价于@bing:value=&quot;inputvalue&quot;。</span><br><span class="line">绑定事件：@bind:event=&quot;onchange&quot;如果没有写绑定事件，则默认绑定到失去焦点事件(onchange事件)</span><br><span class="line">完成代码： &lt;input @bind-value=&quot;inputvalue&quot; @bind-value:event=&quot;onchange&quot; /&gt;</span><br><span class="line">如果执行完官方事件之后，还想要执行自定义函数，则使用@bind:after=&quot;方法名&quot;</span><br><span class="line">设置绑定日期的格式：&lt;input @bind=&quot;birthdate&quot; @bind:format=&quot;dd-MM-yyyy&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p>函数如何获取事件传递过来的参数？</p>
<p>private void IncrementCount(MouseEventArgs e)    {}不同的事件提供不同的事件参数，如何区分如下：一般是将事件前面的on去掉，然后后面加上EventArgs</p>
<p>当方法中需要主动获取标签里面的内容。则通过绑定事件对应的参数进行传入，参数类型如何确定？将鼠标放在事件上，会提示ChangeEventArgs或者其他类型的参数</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20221002212652264.png" alt="image-20221002212652264"></p>
<p>在blazor中，双向绑定默认是在输入框失去焦点的时候数据发生更新，例如点击空白部分。即默认为执行onchange事件时。@bind:event,@bind:after</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706334113087-1706839641994.png" alt="1706334113087"></p>
<p>@bind:after表示在事件执行完成后，再执行一个函数实际上就是自定义一个事件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706334722000-1706839641994.png" alt="1706334722000"></p>
<h2 id="页面中获取c-代码中的属性作为标签的属性值（通过c-代码控制css属性）"><a href="#页面中获取c-代码中的属性作为标签的属性值（通过c-代码控制css属性）" class="headerlink" title="页面中获取c#代码中的属性作为标签的属性值（通过c#代码控制css属性）"></a>页面中获取c#代码中的属性作为标签的属性值（通过c#代码控制css属性）</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 style=&quot;font-style:@Style&quot;&gt;Counter&lt;/h1&gt;通过@属性名的方式绑定到属性。，这种方式只是单向绑定，即前端页面数值改变并不会改变后端数据的大小。</span><br><span class="line">@code &#123;</span><br><span class="line">    private int currentCount = 0;</span><br><span class="line">    private string Style = &quot;italic&quot;;斜体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">双向绑定:前端数据改变，同时后端对应的属性值也会立即随之改变,默认是鼠标离开输入框的时候会自动更改后端数据的值，如果更改为在数据输入的同时更改值则添加一个属性为@bind:event=&quot;oninput&quot;</span><br><span class="line">&lt;input @bind:&quot;Name&quot;/&gt;即将input的value与Name进行双向绑定。</span><br><span class="line">&lt;input @bind-Title=&quot;Name&quot;&gt;&lt;/input&gt;</span><br><span class="line">@bind:等价于@bind：</span><br></pre></td></tr></table></figure>

<h1 id="路由导航"><a href="#路由导航" class="headerlink" title="路由导航"></a>路由导航</h1><p>在App.razor里面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router组件用来遍历程序集里面的所有@page生成的路由表</span><br><span class="line">&lt;Router AppAssembly=&quot;@typeof(App).Assembly&quot;&gt;</span><br><span class="line">    &lt;Found Context=&quot;routeData&quot;&gt; //foound在这里不是组件而是泛型renderframgment，参考renderfragment部分</span><br><span class="line">    routeview组件用来接收所有的路由参数以及指定默认的布局</span><br><span class="line">        &lt;RouteView RouteData=&quot;@routeData&quot; DefaultLayout=&quot;@typeof(MainLayout)&quot; /&gt;</span><br><span class="line">        打开网页的时候，首先就会定位到h1标签所修饰的内容</span><br><span class="line">        &lt;FocusOnNavigate RouteData=&quot;@routeData&quot; Selector=&quot;h1&quot; /&gt;                           </span><br></pre></td></tr></table></figure>

<p>使用@page“&#x2F;Counter”等价于使用@Attribute[Route(“&#x2F;Counter”)],相当于在该组件的类上面添加了该路由特性</p>
<p>执行方法的时候进行导航，分为调用者和被调用者，如下</p>
<p> 1.通过控件进行导航 </p>
<p>首先在调用者里面引入路由对象，这是注入，而注册仍然是在program类里面</p>
<p>@inject NavigationManager nm</p>
<p>创建控件，绑定方法</p>
<p>&lt;button @onclick&#x3D;”NavTo”&gt;update<br> public void NavTo()</p>
<pre><code>&#123;
调用方法导航到对应的页面
    nm.NavigateTo(&quot;test&quot;);

&#125;
</code></pre>
<p> 被调用者需要设置对应的路由url</p>
<p> @page “&#x2F;test”</p>
<p> 2.通过链接进行导航</p>
<p> 使用Navlink标签指定href进行导航</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;NavLink class=&quot;nav-link&quot; href=&quot;&quot; Match=&quot;NavLinkMatch.All&quot;&gt;</span><br><span class="line">                &lt;span class=&quot;oi oi-home&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt; Home</span><br><span class="line">&lt;/NavLink&gt;</span><br><span class="line">属性</span><br><span class="line">NavLinkMatch.All：使用此值时，只有在链接的 href 与当前 URL 完全匹配时，该链接才突出显示为活动链接。</span><br><span class="line">NavLinkMatch.Prefix：使用此值时，当链接的 href 与当前 URL 的第一部分匹配时即baseurl，该链接就突出显示为活动链接。 例如，假设你拥有链接 &lt;NavLink href=&quot;pizzas&quot; Match=&quot;NavLinkMatch.Prefix&quot;&gt;。 当前 URL 为 http://www.contoso.com/pizzas 及该 URL 中的任意位置（例如 http://www.contoso.com/pizzas/formaggio）时，此链接将突出显示为活动链接。 此行为可帮助用户了解自己当前正在查看网站的哪一部分。</span><br></pre></td></tr></table></figure>

<p>路由参数：</p>
<p>例如前端使用url传参，后端如何接收：使用路由参数，为类中的属性&#x2F;字段添加[parameter]特性,凡是使用parameter修饰的属性都表示该属性被暴露出去，可以通过OnInitialized方法对传递进来的参数进行处理，该方法表示该组件启动之后首先做的事情</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@page &quot;/test/&#123;parameter1:int&#125;&quot;参数传递给parameter1，并且约束为int类型</span><br><span class="line">//@page &quot;/FavoritePizza/&#123;*favorites&#125;&quot;使用*可以获取所有的路由参数,例如url为http://www.contoso.com/favoritepizza/margherita/hawaiian，则最后favorites捕获的是margherita/hawaiian，而不是单单的margherita</span><br><span class="line">&lt;p&gt;Your favorite pizza is: @Favorite&lt;/p&gt;</span><br><span class="line">@code&#123;</span><br><span class="line">	[parameter]</span><br><span class="line">	//在url中显示parameter2=。。。，而不是parameter1</span><br><span class="line">	[SupplyParameterFromQuery(Name = &quot;parameter2&quot;)];</span><br><span class="line">	public string parameter1&#123;get;set;&#125;</span><br><span class="line">	protected override void OnInitialized()</span><br><span class="line">    &#123;</span><br><span class="line">        parameter1 = parameter1 ?? &quot;fantastic&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">以上代码参数的传递顺序为@page中的parameter1首先获取，然后是传递给在@code中parameter1，在然后是在p标签中进行显示</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>路由约束可设置的情况：</p>
<table>
<thead>
<tr>
<th>bool</th>
<th>{vegan:bool}</th>
<th><code>http://www.contoso.com/pizzas/true</code></th>
</tr>
</thead>
<tbody><tr>
<td>datetime</td>
<td>{birthdate:datetime}</td>
<td><code>http://www.contoso.com/customers/1995-12-12</code></td>
</tr>
<tr>
<td>decimal</td>
<td>{maxprice:decimal}</td>
<td><code>http://www.contoso.com/pizzas/15.00</code></td>
</tr>
<tr>
<td>double</td>
<td>{weight:double}</td>
<td><code>http://www.contoso.com/pizzas/1.234</code></td>
</tr>
<tr>
<td>float</td>
<td>{weight:float}</td>
<td><code>http://www.contoso.com/pizzas/1.564</code></td>
</tr>
<tr>
<td>guid</td>
<td>{pizza id:guid}</td>
<td><code>http://www.contoso.com/pizzas/CD2C1638-1638-72D5-1638-DEADBEEF1638</code></td>
</tr>
<tr>
<td>long</td>
<td>{totals ales:long}</td>
<td><code>http://www.contoso.com/pizzas/568192454</code></td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">当前完整 URI，例如 http://www.contoso.com/pizzas/margherita?extratopping=pineapple。使用NavManager.ToAbsoluteUri(NavManager.Uri)</span><br><span class="line">基本 URI，例如 http://www.contoso.com/。</span><br><span class="line">基本相对路径，例如 pizzas/margherita。</span><br><span class="line">查询字符串，例如 ?extratopping=pineapple。</span><br><span class="line">获取baseuri</span><br><span class="line">protected override void OnInitialized()</span><br><span class="line">	&#123;</span><br><span class="line">		HomePageURI = NavManager.BaseUri;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">获取查询参数：使用QueryHelpers</span><br><span class="line">@page &quot;/pizzas&quot;</span><br><span class="line">@using Microsoft.AspNetCore.WebUtilities</span><br><span class="line">@inject NavigationManager NavManager</span><br><span class="line">@code &#123;</span><br><span class="line">	protected override void OnInitialized()</span><br><span class="line">	&#123;</span><br><span class="line">		var uri = NavManager.ToAbsoluteUri(NavManager.Uri);</span><br><span class="line">		if (QueryHelpers.ParseQuery(uri.Query).TryGetValue(&quot;extratopping&quot;, out var extraTopping))</span><br><span class="line">		&#123;</span><br><span class="line">			ToppingName = System.Convert.ToString(extraTopping);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>每个组件都要添加路由route（@page关键字）和布局layout（@layout关键字），对于未手动添加@layout的组件，默认使用mainlayout作为布局，未添加@page关键字则跳转到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其中以下两种路由方式结果一样，</span><br><span class="line">@page &quot;/counter&quot;</span><br><span class="line">@attribute [Route(Constants.CounterRoute)];//Constants.CounterRoute为常量/counter</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">路由器使用路由参数以相同的名称填充相应的组件参数,路由参数名不区分大小写,支持可选参数</span><br><span class="line">@page &quot;/route-parameter-1/&#123;text&#125;&quot;</span><br><span class="line">&lt;p&gt;Blazor is @Text!&lt;/p&gt;</span><br><span class="line">@code &#123;</span><br><span class="line">    [Parameter]</span><br><span class="line">    public string? Text &#123; get; set; &#125;</span><br><span class="line">    protected override void OnInitialized()</span><br><span class="line">    &#123;</span><br><span class="line">        Text = Text ?? &quot;fantastic&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    使用 OnParametersSet 而不是 OnInitialized&#123;Async&#125;，以允许应用使用不同的可选参数值导航到同一组件。</span><br><span class="line">    protected override void OnParametersSet()</span><br><span class="line">&#123;</span><br><span class="line">    Text = Text ?? &quot;fantastic&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="catch-all路由"><a href="#catch-all路由" class="headerlink" title="catch-all路由"></a>catch-all路由</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@page &quot;/catch-all/&#123;*pageRoute&#125;&quot;</span><br><span class="line">@code &#123;</span><br><span class="line">    [Parameter]</span><br><span class="line">    public string? PageRoute &#123; get; set; &#125;</span><br><span class="line">&#125;</span><br><span class="line">对于具有 /catch-all/&#123;*pageRoute&#125; 路由模板的 URL /catch-all/this/is/a/test，PageRoute 的值设置为 this/is/a/test。</span><br></pre></td></tr></table></figure>

<h2 id="路由跳转"><a href="#路由跳转" class="headerlink" title="路由跳转"></a>路由跳转</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">通过函数进行路由跳转，而不是通过链接</span><br><span class="line">@page &quot;/navigate&quot;</span><br><span class="line">@implements IDisposable</span><br><span class="line">@inject NavigationManager Navigation</span><br><span class="line"></span><br><span class="line">&lt;PageTitle&gt;Navigate&lt;/PageTitle&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Navigate Example&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;button class=&quot;btn btn-primary&quot; @onclick=&quot;NavigateToCounterComponent&quot;&gt;</span><br><span class="line">    Navigate to the Counter component</span><br><span class="line">&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">@code &#123;</span><br><span class="line">    private void NavigateToCounterComponent()</span><br><span class="line">    &#123;</span><br><span class="line">        Navigation.NavigateTo(&quot;counter&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    protected override void OnInitialized()</span><br><span class="line">    &#123;</span><br><span class="line">        Navigation.LocationChanged += HandleLocationChanged;</span><br><span class="line">    &#125;</span><br><span class="line">    public void Dispose()</span><br><span class="line">    &#123;</span><br><span class="line">        Navigation.LocationChanged -= HandleLocationChanged;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="导航选项"><a href="#导航选项" class="headerlink" title="导航选项"></a>导航选项</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">将 NavigationOptions 传递给 NavigateTo 以控制以下行为：</span><br><span class="line"></span><br><span class="line">ForceLoad：绕过客户端路由并强制浏览器从服务器加载新页面，无论 URI 是否由客户端路由器处理。 默认值为 false。</span><br><span class="line">ReplaceHistoryEntry：替换历史记录堆栈中的当前条目。 如果为 false，则将新条目附加到历史记录堆栈。 默认值为 false。</span><br><span class="line">HistoryEntryState：获取或设置要附加到历史记录条目的状态。</span><br><span class="line"></span><br><span class="line">Navigation.NavigateTo(&quot;/path&quot;, new NavigationOptions</span><br><span class="line">&#123;</span><br><span class="line">    HistoryEntryState = &quot;Navigation state&quot;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="路由查询字符串"><a href="#路由查询字符串" class="headerlink" title="路由查询字符串"></a>路由查询字符串</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">使用 [SupplyParameterFromQuery] 属性指定组件参数来自查询字符串。</span><br><span class="line">例子1</span><br><span class="line">[SupplyParameterFromQuery(Name = &quot;&#123;QUERY&#125;&quot;)]；url中的查询字符串为query，但是对应着compoinet名字</span><br><span class="line">public string? &#123;COMPONENT&#125; &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">例子2</span><br><span class="line">@code &#123;</span><br><span class="line">    [SupplyParameterFromQuery]；表示来自于url中的filter，page和star</span><br><span class="line">    public string? Filter &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">    [SupplyParameterFromQuery]</span><br><span class="line">    public int? Page &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">    [SupplyParameterFromQuery(Name = &quot;star&quot;)]</span><br><span class="line">    public string[]? Stars &#123; get; set; &#125;</span><br><span class="line">&#125;</span><br><span class="line">更改，删除，查询路由参数</span><br><span class="line">1.删除了 name（如果存在）。</span><br><span class="line">2.向 age 添加了值 25 (int)（如果不存在）。 对age更新了值 25（如果存在）。</span><br><span class="line">3.添加了 eye color 或为其更新了值 green。</span><br><span class="line"></span><br><span class="line">Navigation.GetUriWithQueryParameters(</span><br><span class="line">    new Dictionary&lt;string, object?&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        [&quot;name&quot;] = null,</span><br><span class="line">        [&quot;age&quot;] = (int?)25,</span><br><span class="line">        [&quot;eye color&quot;] = &quot;green&quot;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="路由的三种方式"><a href="#路由的三种方式" class="headerlink" title="路由的三种方式"></a>路由的三种方式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;/counter#targetElement&quot;&gt;</span><br><span class="line">&lt;NavLink href=&quot;/counter#targetElement&quot;&gt;</span><br><span class="line">Navigation.NavigateTo(&quot;/counter#targetElement&quot;);</span><br><span class="line"></span><br><span class="line">请使用 NavLink 组件代替 HTML 超链接元素 (&lt;a&gt;)。 NavLink 组件的行为方式类似于 &lt;a&gt; 元素，但它根据其 href 是否与当前 URL 匹配来切换 active CSS 类。 active 类可帮助用户了解所显示导航链接中的哪个页面是活动页面。 也可以选择将 CSS 类名分配到 NavLink.ActiveClass，以便在当前路由与 href 匹配时将自定义 CSS 类应用到呈现的链接。</span><br></pre></td></tr></table></figure>

<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706275196673-1706839641992.png" alt="1706275196673"></p>
<h1 id="数据验证"><a href="#数据验证" class="headerlink" title="数据验证"></a>数据验证</h1><p>思路：前端只有html和css，其余各种框架都是使用后端语言对html进行的封装，类似于jsp，所以blazor自带的组件实际上都带有后端语言的逻辑，可以解释为什么前端使用组件就可以验证后端的属性值。换句话说，前端展示出来的所有html实际上都是从后端用代码发送出来的，而不是html自己本身展示出来的东西，即并没有实现前后端分离所以某些内置组件会自带后端的逻辑处理能力，如果实现了前后端分离，则html只能显示前端内容，无法显示内置组件也无法自带内置逻辑处理能力（webapi），要想具有逻辑处理能力只能使用js。</p>
<p> Blazor 支持两种类型的验证：声明性和编程性。</p>
<p>1.声明性：使用组件： DataAnnotationsValidator 组件（进行验证）和ValidationSummary （进行汇总错误信息）</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230319194531505.png" alt="image-20230319194531505"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20230319194514083.png" alt="image-20230319194514083"></p>
<p>想要在每个控件旁边显示验证消息，请使用多个 ValidationMessage 组，使用 <code>For</code> 属性将每个 ValidationMessage 控件与模型的特定属性相关联</p>
<p>&lt;InputText id&#x3D;”name” @bind-Value&#x3D;”pizza.Name” &#x2F;&gt;</p>
<p> &lt;ValidationMessage For&#x3D;”@(() &#x3D;&gt; pizza.Name)” </p>
<p>2.编程性：自己使用js或者c#以编程方式逐个字段地检查和验证数据。 但是，不建议使用这种方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class PizzaBase : ValidationAttribute</span><br><span class="line">&#123;</span><br><span class="line">    public string GetErrorMessage() =&gt; $&quot;Sorry, that&#x27;s not a valid pizza base.&quot;;</span><br><span class="line"></span><br><span class="line">    protected override ValidationResult IsValid(</span><br><span class="line">        object value, ValidationContext validationContext)</span><br><span class="line">    &#123;</span><br><span class="line">        if (value != &quot;Tomato&quot; || value != &quot;Pesto&quot;)</span><br><span class="line">        &#123;</span><br><span class="line">            return new ValidationResult(GetErrorMessage());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return ValidationResult.Success;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">使用时如下：</span><br><span class="line"> [PizzaBase]</span><br><span class="line">    public string Base &#123; get; set; &#125;</span><br></pre></td></tr></table></figure>

<p>三种验证事件：</p>
<ul>
<li><p><code>OnValidSubmit</code>. 如果输入域成功通过其验证属性定义的验证规则，则会触发此事件。</p>
</li>
<li><p><code>OnInvalidSubmit</code>. 如果表单上的任何输入域都未能通过其验证属性定义的验证，则会触发此事件。</p>
</li>
<li><p><code>OnSubmit</code>. 无论所有输入域是否有效，提交 EditForm 时都会发生此事件。</p>
<p>对于在单个输入域级别实现基本验证的 EditForm，<code>OnValidSubmit</code> 和 <code>OnInvalidSubmit</code> 事件很有用。 如果验证要求更复杂，例如将一个输入域与另一个输入域进行交叉检查以确保值的有效组合，请考虑使用 <code>OnSubmit</code> 事件。</p>
<h2 id="验证特性"><a href="#验证特性" class="headerlink" title="验证特性"></a>验证特性</h2><p>​		required</p>
<p>​		Range：检查是否在合理范围内</p>
<p>​		[EmailAddress]</p>
<ul>
<li><code>[ValidationNever]</code>. 如果要确保该字段从不包含在验证中，请使用此注释。</li>
<li><code>[CreditCard]</code>. 如果要记录用户的有效信用卡号，请使用此注释。</li>
<li><code>[Compare]</code>. 如果要确保模型中的两个属性匹配，请使用此注释。</li>
<li><code>[Phone]</code>. 如果要记录用户的有效电话号码，请使用此注释。</li>
<li><code>[RegularExpression]</code>. 如果通过将值与正则表达式进行比较来检查值的格式，请使用此注释。</li>
<li><code>[StringLength]</code>. 如果要检查字符串值的长度是否不超过最大长度，请使用此注释。</li>
<li><code>[Url]</code>. 如果要记录用户的有效 URL，请使用此注释。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">使用editform代替html默认的form</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">&lt;EditForm Model=&quot;@student&quot; OnValidSubmit=&quot;HandleValidSubmit&quot;&gt;//model表示绑定到哪个对象，这样下面的标签才可以使用。onvalidsubmit表示提交之后触发对应的事件(可以不写事件)</span><br><span class="line">    &lt;DataAnnotationsValidator/&gt;//进行数据验证的条件</span><br><span class="line">    &lt;ValidationSummary/&gt;//错误消息汇总在一起，一般使用下面的message</span><br><span class="line">    &lt;InputText @bind-Value=&quot;@student.Code&quot;/&gt;</span><br><span class="line">    &lt;ValidationMessage For=&quot;()=&gt;student.Code&quot;/&gt;</span><br><span class="line">    &lt;InputText @bind-Value=&quot;@student.Name&quot;/&gt;</span><br><span class="line">    &lt;ValidationMessage For=&quot;()=&gt;student.Name&quot;/&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot;&gt;submit&lt;button/&gt;当提交之后，会依次从上往下执行数据验证</span><br><span class="line">&lt;/EditForm&gt;</span><br><span class="line">对应的类</span><br><span class="line">@code&#123;</span><br><span class="line">@using System.ComponentModel.DataAnnotations</span><br><span class="line">Stduent student = new Stduent();</span><br><span class="line">    public class Stduent</span><br><span class="line">    &#123; </span><br><span class="line">        [required]</span><br><span class="line">        public string Code &#123; get; set; &#125;</span><br><span class="line">        [required]</span><br><span class="line">        public string Name &#123; get; set; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="数据验证底层原理"><a href="#数据验证底层原理" class="headerlink" title="数据验证底层原理"></a>数据验证底层原理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">@page &quot;/starship-9&quot;</span><br><span class="line">@inject ILogger&lt;Starship9&gt; Logger</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Starfleet Starship Database&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;h2&gt;New Ship Entry Form&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;EditForm Model=&quot;@Model&quot; OnValidSubmit=&quot;@Submit&quot; FormName=&quot;Starship9&quot;&gt;</span><br><span class="line">    &lt;CustomValidation @ref=&quot;customValidation&quot; /&gt;//必须添加</span><br><span class="line">    &lt;ValidationSummary /&gt;//必须添加</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            Primary Classification:</span><br><span class="line">            &lt;InputSelect @bind-Value=&quot;Model!.Classification&quot;&gt;</span><br><span class="line">                &lt;option value=&quot;&quot;&gt;</span><br><span class="line">                    Select classification ...</span><br><span class="line">                &lt;/option&gt;</span><br><span class="line">                &lt;option checked=&quot;@(Model!.Classification == &quot;Exploration&quot;)&quot; </span><br><span class="line">                    value=&quot;Exploration&quot;&gt;</span><br><span class="line">                    Exploration</span><br><span class="line">                &lt;/option&gt;</span><br><span class="line">                &lt;option checked=&quot;@(Model!.Classification == &quot;Diplomacy&quot;)&quot; </span><br><span class="line">                    value=&quot;Diplomacy&quot;&gt;</span><br><span class="line">                    Diplomacy</span><br><span class="line">                &lt;/option&gt;</span><br><span class="line">                &lt;option checked=&quot;@(Model!.Classification == &quot;Defense&quot;)&quot; </span><br><span class="line">                    value=&quot;Defense&quot;&gt;</span><br><span class="line">                    Defense</span><br><span class="line">                &lt;/option&gt;</span><br><span class="line">            &lt;/InputSelect&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            Description (optional):</span><br><span class="line">            &lt;InputTextArea @bind-Value=&quot;Model!.Description&quot; /&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/EditForm&gt;</span><br><span class="line"></span><br><span class="line">@code &#123;</span><br><span class="line">    private CustomValidation? customValidation;</span><br><span class="line"></span><br><span class="line">    [SupplyParameterFromForm]</span><br><span class="line">    public Starship? Model &#123; get; set; &#125;</span><br><span class="line"></span><br><span class="line">    protected override void OnInitialized() =&gt;</span><br><span class="line">        Model ??= new() &#123; ProductionDate = DateTime.UtcNow &#125;;</span><br><span class="line"></span><br><span class="line">    private void Submit()</span><br><span class="line">    &#123;</span><br><span class="line">        customValidation?.ClearErrors();</span><br><span class="line"></span><br><span class="line">        var errors = new Dictionary&lt;string, List&lt;string&gt;&gt;();</span><br><span class="line"></span><br><span class="line">        if (Model!.Classification == &quot;Defense&quot; &amp;&amp;</span><br><span class="line">                string.IsNullOrEmpty(Model.Description))</span><br><span class="line">        &#123;</span><br><span class="line">            errors.Add(nameof(Model.Description),</span><br><span class="line">                new() &#123; &quot;For a &#x27;Defense&#x27; ship classification, &quot; +</span><br><span class="line">                &quot;&#x27;Description&#x27; is required.&quot; &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (errors.Any())</span><br><span class="line">        &#123;</span><br><span class="line">            customValidation?.DisplayErrors(errors);</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            Logger.LogInformation(&quot;Submit called: Processing the form&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706360004467-1706839641996.png" alt="1706360004467"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706359799108-1706839641996.png" alt="1706359799108"></p>
<h1 id="js与c-互操作"><a href="#js与c-互操作" class="headerlink" title="js与c#互操作"></a>js与c#互操作</h1><p>JavaScript 添加到 Blazor 应用的方法是使用 HTML <code>&lt;script&gt;</code> 元素。 若要将 JavaScript 代码添加到 Blazor 应用，请在 Pages&#x2F;_Host.cshtml 文件或 wwwroot&#x2F;index.html 文件中的现有 <code>&lt;script src=&quot;_framework/blazor.*.js&quot;&gt;&lt;/script&gt;</code> 标记后添加 <code>&lt;script&gt;</code> 标记，表示引用了某个现成的库，如果单纯使用js语法，不需要此步骤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">		&lt;script src=&quot;_framework/blazor.server.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/sweetalert@latest/dist/sweetalert.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>使用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.jsinterop.ijsruntime">IJSRuntime</a> 从 .NET 代码调用 JavaScript 函数。 若要使 JS 互操作运行时可用，请将 <code>IJSRuntime</code> 抽象实例注入 Blazor 页面，在文件顶部附近的 <code>@page</code> 指令之后。</p>
<p><code>IJSRuntime</code> 接口公开了几种方法来调用 JavaScript 代码：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.jsinterop.ijsruntime.invokeasync">InvokeAsync</a></li>
<li><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.jsinterop.jsruntimeextensions.invokevoidasync">InvokeVoidAsync</a></li>
</ul>
<p>使用 <code>InvokeAsync&lt;TValue&gt;</code> 调用返回值的 JavaScript 函数，否则调用 <code>InvokeVoidAsync</code>。 顾名思义，这两种方法都是异步的，因此请使用 C# <code>await</code> 运算符来捕获任何结果。 <code>InvokeAsync</code> 和 <code>InvokeVoidAsync</code> 方法的参数是要调用的 JavaScript 函数的名称，后跟函数所需的任何参数。 JavaScript 函数必须属于 <code>window</code> 作用域或 <code>window</code> 子作用域。 参数必须可序列化为 JSON。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@inject OrderState OrderState</span><br><span class="line">@inject IJSRuntime JavaScript</span><br><span class="line"></span><br><span class="line">async Task RemovePizzaConfirmation(Pizza removePizza)</span><br><span class="line">&#123;</span><br><span class="line">    if (await JavaScript.InvokeAsync&lt;bool&gt;(</span><br><span class="line">        &quot;confirm&quot;,</span><br><span class="line">        $&quot;&quot;&quot;Do you want to remove the &quot;&#123;removePizza.Special!.Name&#125;&quot; from your order?&quot;&quot;&quot;))</span><br><span class="line">    &#123;</span><br><span class="line">        OrderState.RemoveConfiguredPizza(removePizza);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>js调用.net代码：  <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.jsinterop.dotnetobjectreference">DotNetObjectReference</a> 此类是 JS 互操作库的一部分。 <code>DotNet</code> 类公开了帮助程序函数 <code>invokeMethod</code> 和 <code>invokeMethodAsync</code>。 使用 <code>invokeMethod</code> 运行方法并等待结果，使用 <code>invokeMethodAsync</code> 异步调用方法。 <code>invokeMethodAsync</code> 方法返回 JavaScript <code>Promise</code>。</p>
<h1 id="表单组件"><a href="#表单组件" class="headerlink" title="表单组件"></a>表单组件</h1><p>使用editform组件代替html中的form标签，editform与form的区别如下：</p>
<p>​	1数据绑定。 可将对象与 EditForm 关联。 EditForm 的作用类似于用于数据输入和显示的对象视图。<br>​	2验证。 EditForm 提供了广泛且可扩展的验证功能。 可以向指定验证规则的 EditForm 中的元素添加属性。 EditForm 将自动应用这些规则。 将在本模块的后	续单元中介绍此功能。<br>​	3表单提交。 HTML 表单将在提交后向表单处理程序发送一个发布请求。 该表单处理程序应会执行提交过程，然后显示任何结果。 EditForm 遵循 Blazor 事件	模型；请指定捕获 OnSubmit 事件的 C# 事件处理程序。 事件处理程序执行提交逻辑。<br>​	4输入元素。 HTML 表单使用 <input> 控件收集用户输入，并使用 submit 按钮发布表单以供处理。 EditForm 可以使用这些相同的元素，但 Blazor 提供了具	有其他功能（例如内置验证和数据绑定）的输入组件库。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;EditForm Model=@currentForecast&gt;</span><br><span class="line">    &lt;InputDate @bind-Value=currentForecast.Date&gt;&lt;/InputDate&gt;</span><br><span class="line">    &lt;InputNumber @bind-Value=currentForecast.TemperatureC&gt;&lt;/InputNumber&gt;</span><br><span class="line">    &lt;InputText @bind-Value=currentForecast.Summary&gt;&lt;/InputText&gt;</span><br><span class="line">&lt;/EditForm&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">HTML &lt;form&gt; 元素支持 &lt;input&gt; 元素，以便用户能够输入数据。 &lt;input&gt; 有一个 type 属性，用于指定输入的类型及其显示方式（作为数字、文本框、单选按钮、复选框、按钮等）。</span><br><span class="line">Blazor 拥有自己的一组组件，旨在专用于 &lt;EditForm&gt; 元素并支持其他功能中的数据绑定。 下表列出了这些组件。 当 Blazor 呈现包含这些组件的页面时，它们将转换为表中列出的相应 HTML &lt;input&gt; 元素。 一些 Blazor 组件是通用的；类型参数由 Blazor 运行时根据绑定到元素的数据类型确定：</span><br><span class="line"></span><br><span class="line">输入组件	呈现为 (HTML)</span><br><span class="line">InputCheckbox	&lt;input type=&quot;checkbox&quot;&gt;</span><br><span class="line">InputDate&lt;TValue&gt;	&lt;input type=&quot;date&quot;&gt;</span><br><span class="line">InputFile	&lt;input type=&quot;file&quot;&gt;</span><br><span class="line">InputNumber&lt;TValue&gt;	&lt;input type=&quot;number&quot;&gt;</span><br><span class="line">InputRadio&lt;TValue&gt;	&lt;input type=&quot;radio&quot;&gt;</span><br><span class="line">InputRadioGroup&lt;TValue&gt;	一组子单选按钮</span><br><span class="line">InputSelect&lt;TValue&gt;	&lt;select&gt;</span><br><span class="line">InputText	&lt;input&gt;</span><br><span class="line">InputTextArea	&lt;textarea&gt;</span><br><span class="line">这些元素中的每一个都具有由 Blazor 识别的属性，例如 DisplayName（用于将输入元素与标签关联）和 @ref（可用于保存对 C# 变量中的字段的引用）。 任何无法识别的非 Blazor 属性都将按原样传递给 HTML 呈现器。 这意味着可以利用 HTML 输入元素属性。 例如，可以将 min、max 和 step 属性添加到 InputNumber 组件，它们将作为所呈现的 &lt;input type=&quot;number&quot;&gt; 元素的一部分正常运行。</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="MVC中的执行顺序："><a href="#MVC中的执行顺序：" class="headerlink" title="MVC中的执行顺序："></a>MVC中的执行顺序：</h1><p>启动之后会首先执行_ViewStart,然后调用viewstart中的代码执行layout.cshtml,然后将view中的视图页面替换@renderbody并显示个前端。</p>
<p>_shared文件夹中的布局是用来布局head，body，footer的整个三部分布局，而view中的视图是用来布局body中的视图（即内容部分）</p>
<p>对于mvc,应该在控制器中返回View类型，而不是数据，因为前端将数据传递给controller进行处理，然后将处理后的数据返回给View进行渲染，view使用模板等布局展示给用户，若在controller中直接返回数据则没有意义。</p>
<p>而对于webapi则不同，controller与view是分离的，是返回给view接口，然后再进行渲染。</p>
<p>验证部分</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706255330850-1706839641989.png" alt="1706255330850"></p>
<p>模型验证都在执行控制器操作或 Razor Pages 处理程序方法之前进行。 Web 应用负责检查 <code>ModelState.IsValid</code> 并做出相应响应。 Web 应用通常会重新显示包含错误消息的页面</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256687651-1706839641991.png" alt="1706256687651"></p>
<h1 id="webapi的返回类型："><a href="#webapi的返回类型：" class="headerlink" title="webapi的返回类型："></a>webapi的返回类型：</h1><p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256812078-1706839641992.png" alt="1706256812078"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256910910-1706839641992.png" alt="1706256910910"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706256949845-1706839641992.png" alt="1706256949845"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706257201760-1706839641992.png" alt="1706257201760"></p>
<h1 id="两个插件"><a href="#两个插件" class="headerlink" title="两个插件"></a>两个插件</h1><p>1.html代码整理，zencoding</p>
<p>2.颜色点击预览，colorpreview</p>
<h1 id="数据链接："><a href="#数据链接：" class="headerlink" title="数据链接："></a>数据链接：</h1><p>解决父子组件之间的属性之间双向绑定问题，而级联参数只能单向绑定，而数据绑定绑定的是单个组件中控件值与属性值之间的绑定</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706334835974-1706839641994.png" alt="1706334835974"></p>
<p>爷爷组件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706335204608-1706839641994.png" alt="1706335204608"></p>
<p>父亲组件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706335353902-1706839641994.png" alt="1706335353902"></p>
<p>孙子组件</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706340326010-1706839641995.png" alt="1706340326010"></p>
<h1 id="虚拟化"><a href="#虚拟化" class="headerlink" title="虚拟化"></a>虚拟化</h1><p>针对1000万条数据不能一下子展示出来，否则会卡死，使用blazor自带的虚拟化功能。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">卡死写法</span><br><span class="line">&lt;div style=&quot;height:500px;overflow-y:scroll&quot;&gt;</span><br><span class="line">    @foreach (var flight in allFlights)</span><br><span class="line">    &#123;</span><br><span class="line">        &lt;FlightSummary @key=&quot;flight.FlightId&quot; Details=&quot;@flight.Summary&quot; /&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">解决方法</span><br><span class="line">&lt;div style=&quot;height:500px;overflow-y:scroll&quot;&gt;</span><br><span class="line">    &lt;Virtualize Items=&quot;@allFlights&quot; Context=&quot;flight&quot;&gt;</span><br><span class="line">        &lt;FlightSummary @key=&quot;flight.FlightId&quot; Details=&quot;@flight.Summary&quot; /&gt;</span><br><span class="line">    &lt;/Virtualize&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h2 id="占位符，内容为空，项高度"><a href="#占位符，内容为空，项高度" class="headerlink" title="占位符，内容为空，项高度"></a>占位符，内容为空，项高度</h2><p>由于网速慢可能需要一些时间，选择占位符功能</p>
<ul>
<li>使用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.components.web.virtualization.virtualize-1.placeholder">Placeholder</a> (<code>&lt;Placeholder&gt;...&lt;/Placeholder&gt;</code>) 显示内容，直到项数据可用。</li>
<li>使用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.components.web.virtualization.virtualize-1.itemcontent">Virtualize.ItemContent</a> 设置列表的项模板。</li>
</ul>
<p>当组件已加载且 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.components.web.virtualization.virtualize-1.items">Items</a> 为空或 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.components.web.virtualization.itemsproviderresult-1.totalitemcount">ItemsProviderResult.TotalItemCount</a> 为零时，使用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.components.web.virtualization.virtualize-1.emptycontent#microsoft-aspnetcore-components-web-virtualization-virtualize-1-emptycontent">EmptyContent</a> 参数提供内容。</p>
<p>每个项的像素高度可以使用 <a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.components.web.virtualization.virtualize-1.itemsize">Virtualize.ItemSize</a> 进行设置（默认值：50）。 下面的示例将每个项的高度从默认值 50 像素更改为 25 像素： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;Virtualize Context=&quot;employee&quot; ItemsProvider=&quot;@LoadEmployees&quot;&gt;</span><br><span class="line">    &lt;ItemContent&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            @employee.FirstName @employee.LastName has the </span><br><span class="line">            job title of @employee.JobTitle.</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">    &lt;/ItemContent&gt;</span><br><span class="line">    &lt;Placeholder&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            Loading&amp;hellip;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">    &lt;/Placeholder&gt;</span><br><span class="line">     &lt;EmptyContent&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">            There are no strings to display.</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">    &lt;/EmptyContent&gt;</span><br><span class="line">&lt;/Virtualize&gt;</span><br></pre></td></tr></table></figure>

<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><p>使用@typeparam指定泛型</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706353091542-1706839641996.png" alt="1706353091542"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706353062954-1706839641996.png" alt="1706353062954"></p>
<h1 id="inject"><a href="#inject" class="headerlink" title="[inject]"></a>[inject]</h1><p>对于非 Blazor 类，例如其他可注入服务，可以通过类的构造函数注入依赖项。但是，Blazor 组件并非如此。目前不支持构造函数注入。有两种方法可以指示我们的组件使用哪些依赖项；一个在 Razor 标记中，一个在 C# 代码中。</p>
<p>对于[inject],它是用在@code里面的东西，可以代替html中的@inject</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/1706362499268-1706839641996.png" alt="1706362499268"></p>
<h1 id="泛型renderfragment"><a href="#泛型renderfragment" class="headerlink" title="泛型renderfragment"></a>泛型renderfragment</h1><p>用于解决组件内部无法嵌套另一个组件的问题。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">如何在&lt;Test&gt;&lt;/Test&gt;开始和结束标签之间添加内容？添加内容的原因是什么？</span><br><span class="line">往标签之间添加内容的原因是希望将该内容传递给子组件进而显示在前端页面上，但直接使用的话会报错，必须使用renderfragment,因为标签之间的内容传递给子组件后不知应该放在子组件的哪个位置。需要使用renderframgent将其作为html对象保存起来</span><br><span class="line">1.隐式方式：在子组件中定义添加下面的属性作为接收参数，该属性的名字是固定的ChildContent不能改变</span><br><span class="line">[Parameter]</span><br><span class="line">public RenderFragment ChildContent&#123;get;set;&#125; </span><br><span class="line">2.显示方式：改ChildContent为MyContent </span><br><span class="line">public RenderFragment MyContent&#123;get;set;&#125; </span><br><span class="line">使用时则如下</span><br><span class="line">&lt;Test&gt;</span><br><span class="line">	&lt;MyContent&gt;</span><br><span class="line"></span><br><span class="line">		&lt;p&gt;这是添加内容&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">​	&lt;/MyContent&gt;</span><br><span class="line">&lt;/Test&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">例如下面写法是错误的，因为father组件实际上内部也包含各种html，而child应该放在father组件的html的哪个位置是不确定的，所以会报错，同样，如果直接在father组件下面添加html代码也无法确定该html代码在father组件中的位置进而报错</span><br><span class="line">&lt;father&gt;</span><br><span class="line"> &lt;child&gt;</span><br><span class="line"> &lt;/child&gt;</span><br><span class="line">&lt;/father&gt;</span><br><span class="line">而如下写法在father.razor文件里面这种写法是正确的,因为指定了child组件在father中的位置。</span><br><span class="line">&lt;p&gt;&lt;/p&gt;</span><br><span class="line">&lt;h1&gt;&lt;/h1&gt;</span><br><span class="line">&lt;child&gt;&lt;/child&gt;</span><br><span class="line">综上，组件无法直接嵌套，而使用renderfragment实际上是将子组件中的代码传给renderfragment类型的变量，指定正确位置后可以进行渲染。</span><br></pre></td></tr></table></figure>

<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202105855372.png" alt="image-20240202105855372"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110107469.png" alt="image-20240202110107469"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110414271.png" alt="image-20240202110414271"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110449518.png" alt="image-20240202110449518"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202110749068.png" alt="image-20240202110749068"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202111817061.png" alt="image-20240202111817061"></p>
<h1 id="css隔离捆绑"><a href="#css隔离捆绑" class="headerlink" title="css隔离捆绑"></a>css隔离捆绑</h1><p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202115329453.png" alt="image-20240202115329453"></p>
<h1 id="动态组件-dynamicomponent"><a href="#动态组件-dynamicomponent" class="headerlink" title="动态组件(dynamicomponent)"></a>动态组件(dynamicomponent)</h1><p>例如点击一个按钮，会生成一个新的按钮，实际上就是动态的创建组件功能，这种功能往往是通过c#后台代码实现，目前可以使用动态组件实现。如下，两种方式效果一样。</p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202134740906.png" alt="image-20240202134740906"></p>
<h1 id="错误组件errorboundary"><a href="#错误组件errorboundary" class="headerlink" title="错误组件errorboundary"></a>错误组件errorboundary</h1><p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202160708498.png" alt="image-20240202160708498"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202160546217.png" alt="image-20240202160546217"></p>
<p><img src="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/assets/image-20240202160830064.png" alt="image-20240202160830064"></p>
<h1 id="WebApi"><a href="#WebApi" class="headerlink" title="WebApi"></a>WebApi</h1><p>blazor也可实现类似WebApi形式的前后端分离，使用Controller形式。<a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/training/modules/interact-with-data-blazor-web-apps/5-exercise-access-data-from-blazor-components">https://learn.microsoft.com/zh-cn/training/modules/interact-with-data-blazor-web-apps/5-exercise-access-data-from-blazor-components</a></p>
<h1 id="三方ui库"><a href="#三方ui库" class="headerlink" title="三方ui库"></a>三方ui库</h1><p>matblazor，masablazor,bootstrapblazor</p>
<h1 id="WpfBlazor"><a href="#WpfBlazor" class="headerlink" title="WpfBlazor"></a>WpfBlazor</h1><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Dotnet9-com/p/16868009.html">https://www.cnblogs.com/Dotnet9-com/p/16868009.html</a></p>
<h1 id="MauiBlazor"><a href="#MauiBlazor" class="headerlink" title="MauiBlazor"></a>MauiBlazor</h1><p>开启hyper-v和安装HAXM</p>
<p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/zh-cn/dotnet/maui/get-started/installation?view=net-maui-7.0&amp;tabs=vswin">https://learn.microsoft.com/zh-cn/dotnet/maui/get-started/installation?view=net-maui-7.0&amp;tabs=vswin</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public string Welcome(string name, int numTimes = 1)</span><br><span class="line">&#123;</span><br><span class="line">return HtmlEncoder.Default.Encode($&quot;Hello &#123;name&#125;, NumTimes is: &#123;numTimes&#125;&quot;);</span><br><span class="line">&#125;</span><br><span class="line">HtmlEncoder.Default.Encode 防止恶意输入</span><br></pre></td></tr></table></figure>





<h1 id="MasaBlaozr项目"><a href="#MasaBlaozr项目" class="headerlink" title="MasaBlaozr项目"></a>MasaBlaozr项目</h1><p>1.vs选择webapp项目模板</p>
<p>2.masa包</p>
<p>设计navhelper，待分析</p>
<p>navmodel，cookiestroge类，globalconfig类，navmodel类。</p>
<p>创建nav扩展类，nav扩展方法中序列化，抽离函数，抛异常（空就抛异常）结论，扩展类应放在功能文件夹下，若功能仅一个扩展类则不必创建该文件夹，在该扩展类方法中addsingle（test）是注册对象，表示该对象被全局使用，而泛型注册addscope<test>()是针对类进行注册，表示该类被全局引用</test></p>
<p>设计NavModel类中10个属性，设计NavHelper类，创建Nav扩展方法进行注册，设计CookieStrage类和GlobalConfig类</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>Title:</span><a href="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/"></a></p>
        <p><span>Author:</span><a href="/" title="Back to Homepage"></a></p>
        <p><span>Created:</span>2022-10-02, 20:22:11</p>
        <p><span>Updated:</span>2024-02-04, 21:20:25</p>
        <p>
            <span>Full URL:</span><a class="post-url" href="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/" title="">https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/</a>
            <span class="copy-path" data-clipboard-text="From https://gao-hongfei123.github.io/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/　　By " title="Copy Article&#39;s Link &amp; Author"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>License:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"CC BY-NC-SA 4.0"</a> Keep Link &amp; Author if Distribute.
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2022/10/29/Maui/">
                    
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2022/08/04/matlab/">
                    
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#title-blazor"><span class="toc-number">1.</span> <span class="toc-text">title:blazor</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9B%AE%E5%BD%95%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">项目目录：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#blazor%E4%B8%AD%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">blazor中执行顺序：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#razor%E8%AF%AD%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">razor语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Main%E7%AD%89%E5%B8%83%E5%B1%80%E6%A0%87%E7%AD%BE"><span class="toc-number">1.</span> <span class="toc-text">Main等布局标签</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB"><span class="toc-number"></span> <span class="toc-text">前后端分离</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Server%E5%92%8CWASM%E5%8C%BA%E5%88%AB%E5%8F%8A%E6%B8%B2%E6%9F%93%E6%A8%A1%E5%BC%8F"><span class="toc-number"></span> <span class="toc-text">Server和WASM区别及渲染模式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number"></span> <span class="toc-text">生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E6%96%B9%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">渲染方式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">参数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8F%82%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">组件参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">2.</span> <span class="toc-text">函数作为参数传递</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E5%8F%82%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">级联参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BB%8F%E8%BF%87%E7%88%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">1.经过父组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%B8%8D%E7%BB%8F%E8%BF%87%E7%88%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">2.不经过父组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8D%95%E5%80%BC%E4%BC%A0%E9%80%92-%E4%B8%8D%E7%BB%8F%E8%BF%87%E7%88%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text">3.单值传递,不经过父组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%A4%9A%E5%80%BC%E4%BC%A0%E9%80%92%EF%BC%9A%E6%97%A0%E9%99%90%E5%A5%97%E5%A8%83"><span class="toc-number">3.4.</span> <span class="toc-text">4.多值传递：无限套娃</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AppState%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-number">4.</span> <span class="toc-text">AppState传递参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%BC%95%E7%94%A8"><span class="toc-number">5.</span> <span class="toc-text">组件引用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">布局：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pagetitle%E5%92%8Cheadtitle"><span class="toc-number">1.</span> <span class="toc-text">pagetitle和headtitle</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number"></span> <span class="toc-text">数据绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E9%A1%B9%E7%BB%91%E5%AE%9A"><span class="toc-number">1.</span> <span class="toc-text">单项绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%EF%BC%9A%E4%BD%BF%E7%94%A8-bind"><span class="toc-number">2.</span> <span class="toc-text">双向绑定：使用@bind</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E4%B8%AD%E8%8E%B7%E5%8F%96c-%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7%E4%BD%9C%E4%B8%BA%E6%A0%87%E7%AD%BE%E7%9A%84%E5%B1%9E%E6%80%A7%E5%80%BC%EF%BC%88%E9%80%9A%E8%BF%87c-%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6css%E5%B1%9E%E6%80%A7%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">页面中获取c#代码中的属性作为标签的属性值（通过c#代码控制css属性）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number"></span> <span class="toc-text">路由导航</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#catch-all%E8%B7%AF%E7%94%B1"><span class="toc-number">1.</span> <span class="toc-text">catch-all路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC"><span class="toc-number">2.</span> <span class="toc-text">路由跳转</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E9%80%89%E9%A1%B9"><span class="toc-number">3.</span> <span class="toc-text">导航选项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">4.</span> <span class="toc-text">路由查询字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">路由的三种方式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%AA%8C%E8%AF%81"><span class="toc-number"></span> <span class="toc-text">数据验证</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%89%B9%E6%80%A7"><span class="toc-number">1.</span> <span class="toc-text">验证特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%AA%8C%E8%AF%81%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">数据验证底层原理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js%E4%B8%8Ec-%E4%BA%92%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text">js与c#互操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E7%BB%84%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">表单组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MVC%E4%B8%AD%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">MVC中的执行顺序：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webapi%E7%9A%84%E8%BF%94%E5%9B%9E%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">webapi的返回类型：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%8F%92%E4%BB%B6"><span class="toc-number"></span> <span class="toc-text">两个插件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E6%8E%A5%EF%BC%9A"><span class="toc-number"></span> <span class="toc-text">数据链接：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%8C%96"><span class="toc-number"></span> <span class="toc-text">虚拟化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%A0%E4%BD%8D%E7%AC%A6%EF%BC%8C%E5%86%85%E5%AE%B9%E4%B8%BA%E7%A9%BA%EF%BC%8C%E9%A1%B9%E9%AB%98%E5%BA%A6"><span class="toc-number">1.</span> <span class="toc-text">占位符，内容为空，项高度</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#inject"><span class="toc-number"></span> <span class="toc-text">[inject]</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8Brenderfragment"><span class="toc-number"></span> <span class="toc-text">泛型renderfragment</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#css%E9%9A%94%E7%A6%BB%E6%8D%86%E7%BB%91"><span class="toc-number"></span> <span class="toc-text">css隔离捆绑</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6-dynamicomponent"><span class="toc-number"></span> <span class="toc-text">动态组件(dynamicomponent)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E7%BB%84%E4%BB%B6errorboundary"><span class="toc-number"></span> <span class="toc-text">错误组件errorboundary</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#WebApi"><span class="toc-number"></span> <span class="toc-text">WebApi</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E6%96%B9ui%E5%BA%93"><span class="toc-number"></span> <span class="toc-text">三方ui库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#WpfBlazor"><span class="toc-number"></span> <span class="toc-text">WpfBlazor</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MauiBlazor"><span class="toc-number"></span> <span class="toc-text">MauiBlazor</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MasaBlaozr%E9%A1%B9%E7%9B%AE"><span class="toc-number"></span> <span class="toc-text">MasaBlaozr项目</span></a>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="Hide"  title="Show or Hide Table of Contents">

    <script>
        yiliaConfig.toc = ["Hide", "Show", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"　| Hexo　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2022/10/29/Maui/" title="Pre: ">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="Mini Archives"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2022/08/04/matlab/" title="Next: ">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/07/10/STM32/">STM32</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/07/03/matdem/">matdem</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/06/28/51%E5%8D%95%E7%89%87%E6%9C%BA/">51单片机</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/31/PFC/">PFC</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/29/Maui/">Maui</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/02/blazor%E5%AD%A6%E4%B9%A0/">blazor学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/08/04/matlab/">matlab</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/%E9%A1%B9%E7%9B%AE/">项目</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/">网络安全基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/%E5%89%8D%E7%AB%AF/">前端学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/winform%E5%AD%A6%E4%B9%A0/">winform控件</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/SqlSugar/">SqlSugar</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/net5%E9%A1%B9%E7%9B%AE/">net5项目</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/net5/">net core</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/MVC/">MVC</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/ef%E5%AD%A6%E4%B9%A0/">EF</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/07/17/csharp%E5%AD%A6%E4%B9%A0/">csharp学习</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2024 技术爱好者
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
             title: "a.article-title, .article-more-link a", 
            
             tags: ".article-tag a", 
             categories: ".article-category a, a.tag-list-link", 
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
             menu: ".header-menu a", 
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>